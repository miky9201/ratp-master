{"version":3,"sources":["images/logo.png","components/Table/Table.js","utils/callApi.js","utils/indexConverter.js","components/SearchInput/SearchInput.js","components/Pagination/Pagination.js","App.js","reportWebVitals.js","index.js"],"names":["Table","shopList","setShopList","searchValue","pageLevel","setPageLevel","useState","isAscendingSort","setIsAscendingSort","useEffect","index","fetch","then","res","json","data","records","map","item","libelle","fields","tco_libelle","address","dea_numero_rue_livraison_dea_rue_livraison","cp","code_postal","city","ville","arr","catch","err","console","log","callApi","className","onClick","shopDatas","i","SearchInput","setSearchValue","htmlFor","onChange","e","target","value","type","id","name","Pagination","changePage","preventDefault","disabled","length","App","href","src","logo","width","alt","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a69635a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.02acc6ad.png\";","import React, { useState, useEffect } from 'react';\nimport './Table.css';\n\nimport { callApi } from '../../utils/callApi';\n\nconst Table = ({ shopList, setShopList, searchValue, pageLevel, setPageLevel }) => {\n\n      const [isAscendingSort, setIsAscendingSort] = useState(true);\n\n      useEffect(() => {\n            callApi(setShopList, searchValue, pageLevel, isAscendingSort)\n      }, [setShopList, searchValue, pageLevel, isAscendingSort])\n\n      useEffect(() => {\n            setPageLevel(1) // Coming back to the first page of the search\n      }, [searchValue, setPageLevel])\n\n      const handleClick = () => {\n            setIsAscendingSort(!isAscendingSort)\n      }\n\n      return (\n            <div className=\"table-container\">\n                  <div className=\"array-line heading\">\n                        <div className=\"case\">Nom</div>\n                        <div className=\"case\">Adresse</div>\n                        <button className=\"case heading\" onClick={handleClick}>\n                              Code Postal {isAscendingSort ? \"↑\" : \"↓\"}\n                        </button>\n                        <div className=\"case\">Ville</div>\n                  </div>\n                  {shopList.map((shopDatas, i) => {\n                        return (\n                              <div key={i} className=\"array-line\">\n                                    <div className=\"case\">{shopDatas.libelle}</div>\n                                    <div className=\"case\">{shopDatas.address}</div>\n                                    <div className=\"case\">{shopDatas.cp}</div>\n                                    <div className=\"case\">{shopDatas.city}</div>\n                              </div>\n                        )\n                  })}\n            </div>\n      )\n}\n\nexport default Table;","import { indexConverter } from '../utils/indexConverter';\n\nexport const callApi = (setShopList, searchValue, pageLevel, isAscendingSort) => {\n      \n      const index = indexConverter(pageLevel)\n\n      fetch(`https://data.ratp.fr/api/records/1.0/search/?dataset=liste-des-commerces-de-proximite-agrees-ratp&q=${searchValue}&start=${index}&sort=${isAscendingSort ? '-code_postal' : 'code_postal'}`)\n      .then( res => res.json())\n      .then( data => data.records.map(item => { \n            return {\n                  libelle: item.fields.tco_libelle, \n                  address: item.fields.dea_numero_rue_livraison_dea_rue_livraison, \n                  cp: item.fields.code_postal,\n                  city: item.fields.ville\n            }\n      }))\n      .then( arr => setShopList(arr))\n      .catch( err => console.log(\"Votre recherche contient l'erreur suivante :\" + err))\n      \n}","// Converting the page number into a starting index for the API\nexport const indexConverter = (pageNb) => (pageNb*10) - 10;","import React from 'react';\nimport './SearchInput.css';\n\nconst SearchInput = ({ setSearchValue }) => {\n      const getInput = (e) => {\n            setSearchValue(e.target.value)\n      }\n      return (\n            <div className=\"search-input-container\">\n                  <label htmlFor=\"site-search\">Trouvez votre Commerce :</label>\n                  <input onChange={getInput} type=\"search\" id=\"shop-search\" name=\"q\" aria-label=\"Barre de recherche\"/>\n            </div>\n      )\n}\n\nexport default SearchInput;","import React from 'react';\nimport './Pagination.css';\n\nconst Pagination = ({ shopList, pageLevel, setPageLevel }) => {\n\n      const changePage = (e) => {\n            e.preventDefault();\n            e.target.id === \"prev\" ? setPageLevel(--pageLevel) : setPageLevel(++pageLevel)\n      }\n\n      return (\n            <div className=\"pagination-container\">\n                  <button disabled={pageLevel > 1 ? false : true} id=\"prev\" onClick={changePage}>Page Précédente</button>\n                  <p>{pageLevel}</p>\n                  <button disabled={shopList.length < 10 ? true : false} id=\"next\" onClick={changePage}>Page Suivante</button>\n            </div>\n      )\n}\n\nexport default Pagination;","import React, { useState } from 'react';\nimport './App.css';\nimport logo from './images/logo.png';\n\nimport Table from './components/Table/Table';\nimport SearchInput from './components/SearchInput/SearchInput';\nimport Pagination from './components/Pagination/Pagination';\n\nconst App = () => {\n      const [shopList, setShopList] = useState([]); // List of shops get from the Fetch API Call\n      const [searchValue, setSearchValue] = useState(\"\");\n      const [pageLevel, setPageLevel] = useState(1);\n\n      return (\n            <div className=\"app-container\">\n                  <a href=\"./\"><img src={logo} width=\"50px\" alt=\"logo ratp\"/></a>\n                  <SearchInput setSearchValue={setSearchValue}/>\n                  <Table \n                        shopList={shopList} \n                        setShopList={setShopList} \n                        searchValue={searchValue} \n                        pageLevel={pageLevel} \n                        setPageLevel={setPageLevel}\n                  />\n                  <Pagination \n                        shopList={shopList} \n                        pageLevel={pageLevel} \n                        setPageLevel={setPageLevel}\n                  />\n            </div>\n      )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}