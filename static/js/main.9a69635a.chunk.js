(this["webpackJsonptest-technique-fidesio"]=this["webpackJsonptest-technique-fidesio"]||[]).push([[0],[,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(4),i=c.n(n),r=(c(9),c(2)),l=(c(10),c.p+"static/media/logo.02acc6ad.png"),o=(c(11),c(0)),d=function(e){var t=e.shopList,c=e.setShopList,a=e.searchValue,n=e.pageLevel,i=e.setPageLevel,l=Object(s.useState)(!0),d=Object(r.a)(l,2),u=d[0],j=d[1];Object(s.useEffect)((function(){!function(e,t,c,s){var a=10*c-10;fetch("https://data.ratp.fr/api/records/1.0/search/?dataset=liste-des-commerces-de-proximite-agrees-ratp&q=".concat(t,"&start=").concat(a,"&sort=").concat(s?"-code_postal":"code_postal")).then((function(e){return e.json()})).then((function(e){return e.records.map((function(e){return{libelle:e.fields.tco_libelle,address:e.fields.dea_numero_rue_livraison_dea_rue_livraison,cp:e.fields.code_postal,city:e.fields.ville}}))})).then((function(t){return e(t)})).catch((function(e){return console.log("Votre recherche contient l'erreur suivante :"+e)}))}(c,a,n,u)}),[c,a,n,u]),Object(s.useEffect)((function(){i(1)}),[a,i]);return Object(o.jsxs)("div",{className:"table-container",children:[Object(o.jsxs)("div",{className:"array-line heading",children:[Object(o.jsx)("div",{className:"case",children:"Nom"}),Object(o.jsx)("div",{className:"case",children:"Adresse"}),Object(o.jsxs)("button",{className:"case heading",onClick:function(){j(!u)},children:["Code Postal ",u?"\u2191":"\u2193"]}),Object(o.jsx)("div",{className:"case",children:"Ville"})]}),t.map((function(e,t){return Object(o.jsxs)("div",{className:"array-line",children:[Object(o.jsx)("div",{className:"case",children:e.libelle}),Object(o.jsx)("div",{className:"case",children:e.address}),Object(o.jsx)("div",{className:"case",children:e.cp}),Object(o.jsx)("div",{className:"case",children:e.city})]},t)}))]})},u=(c(13),function(e){var t=e.setSearchValue;return Object(o.jsxs)("div",{className:"search-input-container",children:[Object(o.jsx)("label",{htmlFor:"site-search",children:"Trouvez votre Commerce :"}),Object(o.jsx)("input",{onChange:function(e){t(e.target.value)},type:"search",id:"shop-search",name:"q","aria-label":"Barre de recherche"})]})}),j=(c(14),function(e){var t=e.shopList,c=e.pageLevel,s=e.setPageLevel,a=function(e){e.preventDefault(),"prev"===e.target.id?s(--c):s(++c)};return Object(o.jsxs)("div",{className:"pagination-container",children:[Object(o.jsx)("button",{disabled:!(c>1),id:"prev",onClick:a,children:"Page Pr\xe9c\xe9dente"}),Object(o.jsx)("p",{children:c}),Object(o.jsx)("button",{disabled:t.length<10,id:"next",onClick:a,children:"Page Suivante"})]})}),h=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),i=Object(r.a)(n,2),h=i[0],b=i[1],p=Object(s.useState)(1),f=Object(r.a)(p,2),v=f[0],O=f[1];return Object(o.jsxs)("div",{className:"app-container",children:[Object(o.jsx)("a",{href:"./",children:Object(o.jsx)("img",{src:l,width:"50px",alt:"logo ratp"})}),Object(o.jsx)(u,{setSearchValue:b}),Object(o.jsx)(d,{shopList:c,setShopList:a,searchValue:h,pageLevel:v,setPageLevel:O}),Object(o.jsx)(j,{shopList:c,pageLevel:v,setPageLevel:O})]})},b=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,16)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root")),b()}],[[15,1,2]]]);
//# sourceMappingURL=main.9a69635a.chunk.js.map